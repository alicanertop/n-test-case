"use strict";(self.webpackChunkn_case_study=self.webpackChunkn_case_study||[]).push([[179],{262:function(e,t,r){var n=r(893),l=r(294),o=r(745),s=r(250),c=r(655),i={bets:"/bets"},a=r(861),u=a.Z.create({baseURL:"https://nesine-case-study.onrender.com"});u.interceptors.request.use((function(e){return t=void 0,r=void 0,l=function(){return function(e,t){var r,n,l,o,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(i){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(s=0)),s;)try{if(r=1,n&&(l=2&c[0]?n.return:c[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,c[1])).done)return l;switch(n=0,l&&(c=[2&c[0],l.value]),c[0]){case 0:case 1:l=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,n=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((l=(l=s.trys).length>0&&l[l.length-1])||6!==c[0]&&2!==c[0])){s=0;continue}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3])){s.label=c[1];break}if(6===c[0]&&s.label<l[1]){s.label=l[1],l=c;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(c);break}l[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],n=0}finally{r=l=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}}(this,(function(t){return[2,e]}))},new((n=void 0)||(n=Promise))((function(e,o){function s(e){try{i(l.next(e))}catch(e){o(e)}}function c(e){try{i(l.throw(e))}catch(e){o(e)}}function i(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,c)}i((l=l.apply(t,r||[])).next())}));var t,r,n,l}),Promise.reject),u.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var d,f,x,h,p=u,v=function(){return v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},v.apply(this,arguments)},y=(d=function(e,t){switch(t.type){case"LOAD_BETS":return v(v({},e),{bets:t.payload,betsCount:t.payload.length});case"HANDLE_COUPON_ITEM":var r=t.payload,n=function(e,t,r){if(r||2===arguments.length)for(var n,l=0,o=t.length;l<o;l++)!n&&l in t||(n||(n=Array.prototype.slice.call(t,0,l)),n[l]=t[l]);return e.concat(n||Array.prototype.slice.call(t))}([],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,l,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){l={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(l)throw l.error}}return s}(e.couponItems),!1),l=n.findIndex((function(e){return e.C===r.C}));if(-1!==l){var o=n[l];r.OC.ID===o.OC.ID?n.splice(l,1):n.splice(l,1,r)}else n.push(r);return v(v({},e),{couponItems:n});default:return console.error("Unsupported action type at reducer"),e}},f={bets:[],betsCount:0,couponItems:[]},x=(0,l.createContext)(f),h=(0,l.createContext)((function(){return f})),{useCtxState:function(e){return(0,l.useContext)(x)[e]},useCtxAllState:function(){return(0,l.useContext)(x)},useCtxDispatch:function(){return(0,l.useContext)(h)},CtxProvider:function(e){var t=e.children,r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,l,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){l={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(l)throw l.error}}return s}((0,l.useReducer)(d,f),2),o=r[0],s=r[1];return(0,n.jsx)(h.Provider,{value:s,children:(0,n.jsx)(x.Provider,{value:o,children:t})})}}),j=y.CtxProvider,m=y.useCtxDispatch,O=y.useCtxState,b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]])}return r},C=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,l,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){l={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(l)throw l.error}}return s},w=function(e,t,r){return e[t].OC[r]},N=function(){return N=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},N.apply(this,arguments)};function g(e){var t=e.topElement,r=e.bottomElement,l=e.OCG,o=e.OCGKey,s=e.OCKey,c=e.selectedOCKey,i=e.selectOodRatio,a=e.customOC,u=e.parentStyle,d=(c===s||(null==a?void 0:a.ID)===s)&&s||(null==a?void 0:a.ID)===c&&a,f=l&&o&&s?w(l,o,s):void 0;return(0,n.jsxs)("div",{className:"flex flex-col",style:N({width:"75px"},u),children:[(0,n.jsx)("div",{className:"flex pr-1 border-black border-r-2 h-[24px] w-full",children:(null==a?void 0:a.N)||(null==f?void 0:f.N)?(0,n.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,n.jsx)("div",{children:(null==a?void 0:a.N)||(null==f?void 0:f.N)})}):t}),(0,n.jsx)("div",{className:"flex items-center pr-1 border-black border-r-2 border-t-2 border-b-2 min-h-[56px] w-full ".concat(i?"cursor-pointer":""),style:d?{backgroundColor:"yellow"}:{},onClick:function(){o&&s?null==i||i(o,s):a&&(null==i||i(a.ID,a.ID,a))},children:(null==a?void 0:a.O)||(null==f?void 0:f.O)?(0,n.jsx)("div",{className:"w-full flex justify-center",children:(0,n.jsx)("div",{children:(null==a?void 0:a.O)||(null==f?void 0:f.O)})}):r})]})}var S=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,l,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){l={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(l)throw l.error}}return s},E={G:"2",ID:"99",IMF:!1,MBS:"4",N:"+99",O:"3",OD:0};function G(e){var t=e.bet,r=S((0,l.useState)(void 0),2),o=r[0],s=r[1],c=m(),i=function(e,r,n){var l=n||w(t.OCG,e,r);c({type:"HANDLE_COUPON_ITEM",payload:{OC:l,C:t.C,N:t.N}}),s(o===r?void 0:r)};return(0,n.jsxs)("div",{className:"flex text-center",children:[(0,n.jsx)(g,{parentStyle:{width:"375px"},topElement:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:t.D}),(0,n.jsx)("div",{className:"px-1",children:t.DAY}),(0,n.jsx)("div",{children:t.LN})]}),bottomElement:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"font-bold",children:t.C}),(0,n.jsx)("div",{className:"px-1",children:t.T}),(0,n.jsx)("div",{children:t.N})]})}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"Yorumlar"}),bottomElement:(0,n.jsx)("div",{className:"w-full",children:"Yorumlar"})}),(0,n.jsx)(g,{bottomElement:(0,n.jsx)("div",{className:"w-full",children:"4"})}),(0,n.jsx)(g,{selectedOCKey:o,selectOodRatio:i,OCG:t.OCG,OCGKey:"1",OCKey:"0"}),(0,n.jsx)(g,{selectedOCKey:o,selectOodRatio:i,OCG:t.OCG,OCGKey:"1",OCKey:"1"}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"2"})}),(0,n.jsx)(g,{selectedOCKey:o,selectOodRatio:i,OCG:t.OCG,OCGKey:"5",OCKey:"25"}),(0,n.jsx)(g,{selectedOCKey:o,selectOodRatio:i,OCG:t.OCG,OCGKey:"5",OCKey:"26"}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"H1"})}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"1"})}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"x"})}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"2"})}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"H2"})}),(0,n.jsx)(g,{selectedOCKey:o,selectOodRatio:i,OCG:t.OCG,OCGKey:"2",OCKey:"3"}),(0,n.jsx)(g,{selectedOCKey:o,selectOodRatio:i,OCG:t.OCG,OCGKey:"2",OCKey:"4"}),(0,n.jsx)(g,{selectedOCKey:o,selectOodRatio:i,OCG:t.OCG,OCGKey:"2",OCKey:"5"}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"Var"})}),(0,n.jsx)(g,{topElement:(0,n.jsx)("div",{className:"w-full",children:"Yok"})}),(0,n.jsx)(g,{selectedOCKey:o,selectOodRatio:i,customOC:E})]})}var K=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,l,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){l={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(l)throw l.error}}return s},I=10;function k(){var e=O("bets"),t=(0,l.useRef)(0),r=K((0,l.useState)([]),2),o=r[0],s=r[1],c=(0,l.useCallback)((function(r){e.length&&r[0].isIntersecting&&(t.current=Math.min(++t.current,e.length/I),s(e.slice(0,Math.min(I*t.current))))}),[e]),i=K(function(e){var t=null!=e?e:{},r=t.onIntersect,n=b(t,["onIntersect"]),o=C((0,l.useState)(!1),2),s=o[0],c=o[1],i=(0,l.useRef)(),a=(0,l.useCallback)((function(e,t){null==r||r(e,t),c(e[0].isIntersecting)}),[c,r]);return(0,l.useEffect)((function(){var e=new IntersectionObserver(a,n);return i.current&&e.observe(i.current),function(){i.current&&e.unobserve(i.current)}}),[i,n,a]),[i,s]}({onIntersect:c}),1),a=i[0];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mt-[56px]",children:o.map((function(e){return(0,n.jsx)(G,{bet:e},e.C)}))}),(0,n.jsx)("div",{ref:a})]})}var D=function(){return D=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},D.apply(this,arguments)};function P(e){var t=e.children,r=e.parentStyle;return(0,n.jsx)("div",{className:"flex flex-col",style:D({width:"73px"},r),children:(0,n.jsx)("div",{className:"flex items-center border-black border-r-2 min-h-[56px]",children:(0,n.jsx)("div",{className:"w-full",children:t})})})}function R(e){var t=e.betCount;return(0,n.jsxs)("div",{className:"flex text-center fixed bg-gray-400 top-0",children:[(0,n.jsxs)(P,{parentStyle:{width:"365px"},children:["Total Event Count: ",t]}),(0,n.jsx)(P,{children:"Yorumlar"}),(0,n.jsx)(P,{}),(0,n.jsx)(P,{children:"1"}),(0,n.jsx)(P,{children:"X"}),(0,n.jsx)(P,{children:"2"}),(0,n.jsx)(P,{children:"Alt"}),(0,n.jsx)(P,{children:"Üst"}),(0,n.jsx)(P,{children:"H1"}),(0,n.jsx)(P,{children:"1"}),(0,n.jsx)(P,{children:"x"}),(0,n.jsx)(P,{children:"2"}),(0,n.jsx)(P,{children:"H2"}),(0,n.jsx)(P,{children:"X"}),(0,n.jsx)(P,{children:"2"}),(0,n.jsx)(P,{children:"2"}),(0,n.jsx)(P,{children:"Var"}),(0,n.jsx)(P,{children:"Yok"}),(0,n.jsx)(P,{children:"99"})]})}function M(){var e=O("couponItems"),t=(0,l.useMemo)((function(){return e.reduce((function(e,t){return Number((Number(t.OC.O)*e).toFixed(2))}),1)}),[e]);if(e.length)return(0,n.jsxs)("div",{className:"fixed bottom-0 right-0 w-50 h-50 bg-white border-2 p-3 w-2/8",children:[e.map((function(e){return(0,n.jsxs)("div",{className:"flex border-black border-b-2 py-2",children:[(0,n.jsx)("div",{children:e.OC.MBS}),(0,n.jsxs)("div",{className:"px-2",children:["Kod: ",e.C]}),(0,n.jsxs)("div",{children:["Maç: ",e.N]}),(0,n.jsxs)("div",{className:"pl-2 font-bold",children:["Oran: ",e.OC.O]})]},e.C)})),(0,n.jsxs)("div",{className:"pl-2 font-bold",children:["Toplam Tutar: ",t," ₺"]})]})}function _(){var e=m(),t=O("betsCount");return(0,l.useEffect)((function(){p.get(i.bets).then((function(t){var r=t.data;return e({type:"LOAD_BETS",payload:r})}))}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R,{betCount:t}),(0,n.jsx)(k,{}),(0,n.jsx)(M,{})]})}function A(){return(0,n.jsx)(j,{children:(0,n.jsx)(_,{})})}var T=(0,c.aj)([{path:"*",element:(0,n.jsx)((function(){return(0,n.jsx)(A,{})}),{})}]);(0,o.s)(document.getElementById("mount-point")).render((0,n.jsx)((function(){return(0,n.jsx)(l.StrictMode,{children:(0,n.jsx)(s.pG,{router:T})})}),{}))}},function(e){e.O(0,[216],(function(){return 262,e(e.s=262)})),e.O()}]);